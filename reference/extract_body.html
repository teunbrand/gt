<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="We can extract the body of a gt table, even at various stages of its
rendering, from a gt_tbl object using the extract_body() function. By
default, the data frame returned will have gone through all of the build
stages but we can intercept the table body after a certain build stage.
Here are the eight different build stages and some notes about each:
&quot;init&quot;: the body table is initialized here, entirely with NA values.
It's important to note that all columns of the are of the character type in
this first stage. And all columns remain in the same order as the input data
table.
&quot;fmt_applied&quot;: Any cell values that have had formatting applied to them
are migrated to the body table. All other cells remain as NA values.
Depending on the output type, the formatting may also be different.
&quot;sub_applied&quot;: Any cell values that have had substitution functions
applied to them (whether or not they were previously formatted) are migrated
to the body table or modified in place (if formatted). All cells that had
neither been formatted nor undergone substitution remain as NA values.
&quot;unfmt_included&quot;: All cells that either didn't have any formatting or
any substitution operations applied are migrated to the body table. NA
values now become the string &quot;NA&quot;, so, there aren't any true missing values
in this body table.
&quot;cols_merged&quot;: The result of column-merging operations (though
cols_merge() and related functions) is materialized here. Columns that were
asked to be hidden will be present here (i.e., hiding columns doesn't remove
them from the body table).
&quot;body_reassembled&quot;: Though columns do not move positions rows can move
to different positions, and this is usually due to migration to different row
groups. At this stage, rows will be in the finalized order that is seen in
the associated display table.
&quot;text_transformed&quot;: Various text_*() functions in gt can operate
on body cells (now fully formatted at this stage) and return transformed
character values. After this stage, the effects of those functions are
apparent.
&quot;footnotes_attached&quot;: Footnote marks are attached to body cell values
(either on the left or right of the content). This stage performs said
attachment.

"><title>Extract the table body from a gt object — extract_body • gt</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Extract the table body from a gt object — extract_body"><meta property="og:description" content="We can extract the body of a gt table, even at various stages of its
rendering, from a gt_tbl object using the extract_body() function. By
default, the data frame returned will have gone through all of the build
stages but we can intercept the table body after a certain build stage.
Here are the eight different build stages and some notes about each:
&quot;init&quot;: the body table is initialized here, entirely with NA values.
It's important to note that all columns of the are of the character type in
this first stage. And all columns remain in the same order as the input data
table.
&quot;fmt_applied&quot;: Any cell values that have had formatting applied to them
are migrated to the body table. All other cells remain as NA values.
Depending on the output type, the formatting may also be different.
&quot;sub_applied&quot;: Any cell values that have had substitution functions
applied to them (whether or not they were previously formatted) are migrated
to the body table or modified in place (if formatted). All cells that had
neither been formatted nor undergone substitution remain as NA values.
&quot;unfmt_included&quot;: All cells that either didn't have any formatting or
any substitution operations applied are migrated to the body table. NA
values now become the string &quot;NA&quot;, so, there aren't any true missing values
in this body table.
&quot;cols_merged&quot;: The result of column-merging operations (though
cols_merge() and related functions) is materialized here. Columns that were
asked to be hidden will be present here (i.e., hiding columns doesn't remove
them from the body table).
&quot;body_reassembled&quot;: Though columns do not move positions rows can move
to different positions, and this is usually due to migration to different row
groups. At this stage, rows will be in the finalized order that is seen in
the associated display table.
&quot;text_transformed&quot;: Various text_*() functions in gt can operate
on body cells (now fully formatted at this stage) and return transformed
character values. After this stage, the effects of those functions are
apparent.
&quot;footnotes_attached&quot;: Footnote marks are attached to body cell values
(either on the left or right of the content). This stage performs said
attachment.

"><meta property="og:image" content="https://gt.rstudio.com/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gt</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.10.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/gt.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/case-study-clinical-tables.html">Case Study: Clinical Tables</a>
    <a class="dropdown-item" href="../articles/case-study-gtcars.html">Case Study: gtcars</a>
    <a class="dropdown-item" href="../articles/creating-summary-lines.html">Creating Summary Lines</a>
    <a class="dropdown-item" href="../articles/gt-datasets.html">gt Datasets</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://posit.co/blog/new-features-in-gt-0-10-0/">Version 0.10.0</a>
    <a class="external-link dropdown-item" href="https://posit.co/blog/?search=gt%2520%25200.9.0">Version 0.9.0</a>
    <a class="external-link dropdown-item" href="https://posit.co/blog/new-features-upgrades-in-gt-0-8-0/">Version 0.8.0</a>
    <a class="external-link dropdown-item" href="https://posit.co/blog/all-new-things-in-gt-0-7-0/">Version 0.7.0</a>
    <a class="external-link dropdown-item" href="https://posit.co/blog/changes-for-the-better-in-gt-0-6-0/">Version 0.6.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rstudio/gt/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Extract the table body from a <strong>gt</strong> object</h1>
      <small class="dont-index">Source: <a href="https://github.com/rstudio/gt/blob/HEAD/R/export.R" class="external-link"><code>R/export.R</code></a></small>
      <div class="d-none name"><code>extract_body.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>We can extract the body of a <strong>gt</strong> table, even at various stages of its
rendering, from a <code>gt_tbl</code> object using the <code>extract_body()</code> function. By
default, the data frame returned will have gone through all of the build
stages but we can intercept the table body after a certain build stage.
Here are the eight different build stages and some notes about each:</p><ol><li><p><code>"init"</code>: the body table is initialized here, entirely with <code>NA</code> values.
It's important to note that all columns of the are of the <code>character</code> type in
this first stage. And all columns remain in the same order as the input data
table.</p></li>
<li><p><code>"fmt_applied"</code>: Any cell values that have had formatting applied to them
are migrated to the body table. All other cells remain as <code>NA</code> values.
Depending on the <code>output</code> type, the formatting may also be different.</p></li>
<li><p><code>"sub_applied"</code>: Any cell values that have had substitution functions
applied to them (whether or not they were previously formatted) are migrated
to the body table or modified in place (if formatted). All cells that had
neither been formatted nor undergone substitution remain as <code>NA</code> values.</p></li>
<li><p><code>"unfmt_included"</code>: All cells that either didn't have any formatting or
any substitution operations applied are migrated to the body table. <code>NA</code>
values now become the string <code>"NA"</code>, so, there aren't any true missing values
in this body table.</p></li>
<li><p><code>"cols_merged"</code>: The result of column-merging operations (though
<code><a href="cols_merge.html">cols_merge()</a></code> and related functions) is materialized here. Columns that were
asked to be hidden will be present here (i.e., hiding columns doesn't remove
them from the body table).</p></li>
<li><p><code>"body_reassembled"</code>: Though columns do not move positions rows can move
to different positions, and this is usually due to migration to different row
groups. At this stage, rows will be in the finalized order that is seen in
the associated display table.</p></li>
<li><p><code>"text_transformed"</code>: Various <code>text_*()</code> functions in <strong>gt</strong> can operate
on body cells (now fully formatted at this stage) and return transformed
character values. After this stage, the effects of those functions are
apparent.</p></li>
<li><p><code>"footnotes_attached"</code>: Footnote marks are attached to body cell values
(either on the left or right of the content). This stage performs said
attachment.</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extract_body</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  build_stage <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"html"</span>, <span class="st">"latex"</span>, <span class="st">"rtf"</span>, <span class="st">"word"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p><em>The gt table data object</em></p>
<p><code>obj:&lt;gt_tbl&gt;</code> // <strong>required</strong></p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="gt.html">gt()</a></code> function.</p></dd>


<dt>build_stage</dt>
<dd><p><em>The build stage of the formatted R data frame</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>When a <strong>gt</strong> undergoes rendering, the body of the table proceeds through
several build stages. Providing a single stage name will yield a data frame
that has been extracted after completed that stage. Here are the build
stages in order: (1) <code>"init"</code>, (2) <code>"fmt_applied"</code>, (3) <code>"sub_applied"</code>,
(4) <code>"unfmt_included"</code>, (5) <code>"cols_merged"</code>, (6) <code>"body_reassembled"</code>, (7)
<code>"text_transformed"</code>, and (8) <code>"footnotes_attached"</code>. If not supplying a
value for <code>build_stage</code> then the entire build for the table body (i.e., up
to and including the <code>"footnotes_attached"</code> stage) will be performed before
returning the data frame.</p></dd>


<dt>output</dt>
<dd><p><em>Output format</em></p>
<p><code>singl-kw:[html|latex|rtf|word]</code> // <em>default:</em> <code>"html"</code></p>
<p>The output format of the resulting data frame. This can either be
<code>"html"</code> (the default), <code>"latex"</code>, <code>"rtf"</code>, or <code>"word"</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame or tibble object containing the table body.</p>
    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>
    

<p>13-7</p>
    </div>
    <div class="section level2">
    <h2 id="function-introduced">Function Introduced<a class="anchor" aria-label="anchor" href="#function-introduced"></a></h2>
    

<p><code>v0.10.0</code> (October 7, 2023)</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other table export functions: 
<code><a href="as_gtable.html">as_gtable</a>()</code>,
<code><a href="as_latex.html">as_latex</a>()</code>,
<code><a href="as_raw_html.html">as_raw_html</a>()</code>,
<code><a href="as_rtf.html">as_rtf</a>()</code>,
<code><a href="as_word.html">as_word</a>()</code>,
<code><a href="extract_cells.html">extract_cells</a>()</code>,
<code><a href="extract_summary.html">extract_summary</a>()</code>,
<code><a href="gtsave.html">gtsave</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Richard Iannone, Joe Cheng, Barret Schloerke, Ellis Hughes, Alexandra Lauer, <a href="https://jooyoungseo.github.io/" class="external-link">JooYoung Seo</a>, Ken Brevoort, Olivier Roy, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

